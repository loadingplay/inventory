{"version":3,"sources":["webpack:///./src/pages/print/index.jsx","webpack:///./src/pages/print/print.jsx"],"names":["print","Print","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","_defineProperty","_assertThisInitialized","call","oldProps","loadingMessage","convert2PDF","metadata","numero","fecha","Date","toISOString","usuario","transporte","desde","lugar","hasta","selectedCellar","name","items","data","$DOM","metaNumero","document","getElementById","metaFecha","metaUsuario","desdeLugar","desdeUsuario","hastaLugar","hastaUsuario","innerHTML","sort","a","b","insumo","forEach","item","template","concat","codigo","existencia","casaMatriz","local","hecho","falta","window","key","value","React","createElement","disabled","this","onClick","handleClick","className","id","colSpan","style","fontWeight","Component","withDataLoader"],"mappings":"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","file":"component---src-pages-print-index-jsx-5c526e103c2a3243eb96.js","sourcesContent":["import print from './print';\n\nexport default print;\n","import React from 'react';\nimport { withDataLoader } from '../../library/components';\n\nimport './print.css';\n\nexport class Print extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidUpdate = (oldProps) => {\n    if (oldProps.loadingMessage !== this.props.loadingMessage && this.props.loadingMessage === \"\") {\n      this.convert2PDF({\n        metadata: {\n          numero: \"-\",\n          fecha: new Date().toISOString(),\n          usuario: \"ADMIN\",\n        },\n        transporte: {\n          desde: {\n            lugar: \"BODEGA CENTRAL\",\n            usuario: \"ADMIN\"\n          },\n          hasta: {\n            lugar: this.props.selectedCellar.name,\n            usuario: \"ADMIN\"\n          },\n        },\n        items: this.props.items\n      });\n    }\n  }\n\n  convert2PDF = (data) => {\n    // Referencias al DOM con jQuery\n    const $DOM = {\n      metaNumero: document.getElementById(\"metadata-numero\"),\n      metaFecha: document.getElementById(\"metadata-fecha\"),\n      metaUsuario: document.getElementById(\"metadata-usuario\"),\n      desdeLugar: document.getElementById(\"desde-lugar\"),\n      desdeUsuario: document.getElementById(\"desde-usuario\"),\n      hastaLugar: document.getElementById(\"hasta-lugar\"),\n      hastaUsuario: document.getElementById(\"hasta-usuario\"),\n      items: document.getElementById(\"items\")\n    };\n\n    // Rellenar los campos con la data recibida\n    $DOM.metaNumero.innerHTML = data.metadata.numero;\n    $DOM.metaFecha.innerHTML = data.metadata.fecha;\n    $DOM.metaUsuario.innerHTML = data.metadata.usuario;\n    $DOM.desdeLugar.innerHTML = data.transporte.desde.lugar;\n    $DOM.desdeUsuario.innerHTML = data.transporte.desde.usuario;\n    $DOM.hastaLugar.innerHTML = data.transporte.hasta.lugar;\n    $DOM.hastaUsuario.innerHTML = data.transporte.hasta.usuario;\n\n    // Añadir todos los items\n    data.items.sort((a, b) => {\n      if (a.insumo > b.insumo) return 1;\n      if (a.insumo < b.insumo) return -1;\n      return 0;\n    }).forEach(item => {\n      const template = `\n        <tr>\n            <td>${item.codigo}</td>\n            <td>${item.insumo}</td>\n            <td className=\"text-right\">${item.existencia.casaMatriz}</td>\n            <td className=\"text-right\">${item.existencia.local}</td>\n            <td className=\"expander\">&nbsp;</td>\n            <td className=\"text-right\">${item.hecho}</td>\n            <td className=\"text-right\"><strong>${item.falta}</strong></td>\n        </tr>\n      `;\n      $DOM.items.innerHTML += template;\n    });\n  }\n\n  handleClick = () => {\n    if (typeof window !== 'undefined' && window.print)\n      window.print();\n  }\n\n  render() {\n    return (\n      <main>\n        <button\n          disabled={this.props.loadingMessage !== \"\"}\n          onClick={this.handleClick}\n          className=\"btn btn-success btn-block print-page-button\" >\n            { this.props.loadingMessage === \"\" ? \"Imprimir\":this.props.loadingMessage }\n        </button>\n        <header className=\"header\">\n          <div className=\"header__group\">\n            <h1>TRASPASO AUTOMÁTICO</h1>\n          </div>\n          <div className=\"header__group\">\n            <table className=\"header__meta\">\n              <tbody>\n                <tr>\n                  <th>\n                    <strong>NÚMERO</strong>\n                  </th>\n                  <td className=\"text-right display-none\">\n                    <strong id=\"metadata-numero\"></strong>\n                  </td>\n                </tr>\n                <tr>\n                  <th>\n                    <strong>FECHA</strong>\n                  </th>\n                  <td id=\"metadata-fecha\"></td>\n                </tr>\n                <tr>\n                  <th>\n                    <strong>USUARIO</strong>\n                  </th>\n                  <td>\n                    <strong id=\"metadata-usuario\"></strong>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div className=\"header__group\">\n            <div className=\"header__transportation\">\n              <div className=\"row\">\n                <div className=\"col-6\">\n                  <p>Desde</p>\n                  <p id=\"desde-lugar\"></p>\n                  <p id=\"desde-usuario\"></p>\n                </div>\n                <div className=\"col-6\">\n                  <p>Hasta</p>\n                  <p id=\"hasta-lugar\"></p>\n                  <p id=\"hasta-usuario\"></p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </header>\n        <div className=\"items-wrapper\">\n          <table>\n            <tbody id=\"items\" >\n              <tr>\n                <th>&nbsp;</th>\n                <th>&nbsp;</th>\n                <th colSpan=\"2\" className=\"text-center\" id=\"existencia\" style={{ fontWeight: 400 }}>Existencia</th>\n                <th className=\"expander\">&nbsp;</th>\n                <th>&nbsp;</th>\n                <th>&nbsp;</th>\n                <th>&nbsp;</th>\n              </tr>\n              <tr>\n                <th>Código</th>\n                <th>Insumo</th>\n                <th className=\"text-right\" id=\"casamatriz\">Casa Matriz</th>\n                <th className=\"text-right\" id=\"local\">Local</th>\n                <th className=\"expander\">&nbsp;</th>\n                <th className=\"text-right\">Hecho</th>\n                <th className=\"text-right\">Falta</th>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </main>\n    )\n  }\n}\n\n\nexport default withDataLoader(Print);\n"],"sourceRoot":""}